"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[575],{6587:function(n,e,t){t.d(e,{Z:function(){return i}});var r=t(8410),o=t(9589),s=t(3329),i=function(n){var e=n.title,t=n.children;return(0,s.jsxs)(r.W,{maxWidth:["sm","md","lg","xl","2xl"],position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",paddingTop:"40px",paddingBottom:"40px",sx:{backgroundColor:"hsla(0, 0%, 10%, 0.35)",backdropFilter:"blur(8px)",border:"2px solid",borderRadius:"1rem"},children:[(0,s.jsx)(o.X,{pl:8,children:e}),t]})}},9575:function(n,e,t){t.r(e),t.d(e,{default:function(){return G}});var r,o,s,i,a=t(8348),c=t(824),l=t(9055),d=t(884),u=t(168),x=t(6088),p=x.Z.ul(r||(r=(0,u.Z)(["\n  padding: 0;\n  margin: 0;\n  margin-top: 12px;\n"]))),m=t(9439),h=x.Z.li(o||(o=(0,u.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-radius: 5px;\n  border: 2px solid;\n\n   /* & button:hover {\n    background-color: greenyellow;\n  } */\n\n  & + li {\n    margin-top: 12px;\n  }\n\n"]))),f=x.Z.p(s||(s=(0,u.Z)(["\n  margin: 0;\n  font-weight: 500;\n  padding-left: 5px;\n"]))),j=x.Z.span(i||(i=(0,u.Z)(["\n  margin-left: 10px;\n"]))),b=t(4593),g=t(5048),v=t(6351),C=t(2791),Z=t(9640),k=t(3853),w=t(9085),z=(t(5462),t(1666)),y=t(5494),E=t(5155),A=t(7227),_=t(2008),O=t(5510),T=t(3329),I=function(n){var e=n.isOpen,t=n.onClose,r=n.title,o=n.children;return(0,T.jsxs)(z.u_,{isOpen:e,onClose:t,variant:"sunset",children:[(0,T.jsx)(y.Z,{backdropFilter:"auto",backdropBlur:"4px"}),(0,T.jsxs)(E.h,{children:[(0,T.jsx)(A.x,{children:r}),(0,T.jsx)(_.o,{}),(0,T.jsx)(O.f,{children:o})]})]})},J=t(3917),B=t(5325),F=t(1692),L=t(7943),S=t(548);function q(n){var e=n.onClose,t=n.editContact,r=(0,C.useState)(""),o=(0,m.Z)(r,2),s=o[0],i=o[1],a=(0,C.useState)(""),c=(0,m.Z)(a,2),d=c[0],u=c[1],x=(0,C.useState)(""),p=(0,m.Z)(x,2),h=p[0],f=p[1],j=function(){i(""),f(""),u("")},z=(0,g.v9)(v.rK),y=(0,g.v9)(v.Af),E=(0,b.Tn)(),A=(0,m.Z)(E,1)[0],_=(0,b.i)(),O=(0,m.Z)(_,1)[0];(0,C.useEffect)((function(){t&&(i(t.name),f(t.number),u(t.id))}),[t]);return(0,T.jsx)("form",{onSubmit:function(n){(n.preventDefault(),t)?(O({token:z,editUser:{id:d,name:s,number:h}}),j(),e()):y.some((function(n){return n.name.toLowerCase().trim()===s.toLowerCase().trim()||n.number.toLowerCase().trim()===h.toLowerCase().trim()}))?w.Am.warn("".concat(s,": ").concat(h," is duplicate contact or number")):(A({token:z,newUser:{name:s,number:h}}),j(),e())},autoComplete:"on",children:(0,T.jsxs)(J.K,{spacing:4,mt:8,children:[(0,T.jsx)(B.NI,{isRequired:!0,children:(0,T.jsxs)(F.B,{children:[(0,T.jsx)(L.Z,{pointerEvents:"none",children:(0,T.jsx)(Z.J,{as:k.fzv,mr:"8px"})}),(0,T.jsx)(S.I,{type:"text",name:"fullName",placeholder:"Enter full name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",onChange:function(n){i(n.currentTarget.value)},value:s})]})}),(0,T.jsx)(B.NI,{isRequired:!0,children:(0,T.jsxs)(F.B,{children:[(0,T.jsx)(L.Z,{pointerEvents:"none",children:(0,T.jsx)(Z.J,{as:k.tUt,mr:"8px"})}),(0,T.jsx)(S.I,{type:"tel",name:"number",placeholder:"Enter phone number",pattern:"\\+?\\d{1,4}?[\\-.\\s]?\\(?\\d{1,3}?\\)?[\\-.\\s]?\\d{1,4}[\\-.\\s]?\\d{1,4}[\\-.\\s]?\\d{1,9}",onChange:function(n){f(n.currentTarget.value)},value:h})]})}),d?(0,T.jsxs)(l.z,{type:"submit",children:[(0,T.jsx)(Z.J,{as:k.zy7,mr:"8px"}),"Edit contact"]}):(0,T.jsxs)(l.z,{type:"submit",children:[(0,T.jsx)(Z.J,{as:k.zy7,mr:"8px"}),"Add contact"]})]})})}var K,U,N=function(n){var e=n.id,t=n.name,r=n.number,o=(0,g.v9)(v.rK),s=(0,a.q)(),i=s.isOpen,d=s.onOpen,u=s.onClose,x=(0,b._6)(),p=(0,m.Z)(x,2),z=p[0],y=p[1],E=y.data,A=y.error,_=y.isError;return(0,C.useEffect)((function(){_&&w.Am.error(A),E&&console.log(" data:",E)}),[E,A,_]),(0,T.jsxs)(h,{children:[(0,T.jsxs)(f,{children:[t,":",(0,T.jsx)(j,{children:r})]}),(0,T.jsxs)(c.xu,{children:[(0,T.jsxs)(l.z,{onClick:function(){return d()},mr:"8px",mt:"2px",mb:"2px",children:[" ",(0,T.jsx)(Z.J,{as:k.vPQ})]}),(0,T.jsxs)(l.z,{onClick:function(){return z({token:o,id:e})},mr:"2px",mt:"2px",mb:"2px",children:[" ",(0,T.jsx)(Z.J,{as:k.Ybf})]})]}),(0,T.jsx)(I,{isOpen:i,onClose:u,title:"Edit contact",children:(0,T.jsx)(q,{onClose:u,editContact:{id:e,name:t,number:r}})})]},e)},P=t(5691),R=t(3661),D=function(){var n=(0,g.v9)(v.rK),e=(0,g.v9)(v.hF),t=(0,g.I0)(),r=(0,b.bC)(n,{skip:!n}),o=r.data,s=r.isSuccess,i=r.isFetching,a=r.isError;return(0,C.useEffect)((function(){s&&t((0,R.cT)(o)),a&&w.Am.warn("Please enter a valid email or password")}),[o,t,a,s]),(0,T.jsxs)(c.xu,{children:[i&&(0,T.jsx)(P.Z,{}),(0,T.jsxs)(p,{children:[0===e.length&&(0,T.jsx)(d.x,{children:"There are no contacts found!"}),e&&e.map((function(n){var e=n.name,t=n.number,r=n.id;return(0,T.jsx)(N,{id:r,name:e,number:t},r)}))]})]})},W=x.Z.label(K||(K=(0,u.Z)(["\n  margin-top: 12px;\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  font-size: 16px;\n  font-weight: 500;\n"]))),Q=x.Z.input(U||(U=(0,u.Z)(["\n  font-size: 14px;\n  padding: 10px;\n  border-radius: 5px;\n"]))),X=t(6895),Y=function(){var n=(0,g.I0)(),e=(0,g.v9)(v.AD);return(0,T.jsxs)(W,{children:["Find contacts by name",(0,T.jsx)(Q,{type:"text",name:"filter",placeholder:"Enter contact name",value:e,onChange:function(e){n((0,X.U)(e.target.value.toLowerCase()))}})]})},$=t(6587),G=function(){var n=(0,a.q)(),e=n.isOpen,t=n.onOpen,r=n.onClose;return(0,T.jsxs)($.Z,{title:"Contacts PhoneBook",children:[(0,T.jsx)(Y,{}),(0,T.jsx)(c.xu,{marginTop:4,children:(0,T.jsx)(l.z,{onClick:t,children:"Add new contact"})}),(0,T.jsx)(D,{}),(0,T.jsx)(I,{isOpen:e,onClose:r,title:"Add new contact",children:(0,T.jsx)(q,{onClose:r})})]})}}}]);
//# sourceMappingURL=575.e5da712a.chunk.js.map